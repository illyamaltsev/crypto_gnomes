<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/main.css">
    <script src="https://kit.fontawesome.com/658f54bbb0.js" crossorigin="anonymous"></script>
</head>
<body>
<header>
    <div class="header__wrap">
        <a class="header__logo" href="/">Cryptognomes</a>
        <a href="{{ url_for('pages.user') }}">User page</a>
        <a class="link--active" href="{{ url_for('pages.stakan') }}">Orders</a>
        <a href="{{ url_for('pages.about') }}">About us</a>
        <div class="logout">
            Hello <span class="login">{{user.login}}</span>
            <a href="/logout">Logout</a>
        </div>
    </div>
</header>
<main>
    <section class="order-history">
        <h1><i style="margin-right: 10px" class="fas fa-signal"></i> Order history</h1>
        Тут будет график
    </section>
    <section class="orders">
        <h1><i style="margin-right: 10px;" class="fas fa-list-alt"></i> Current orders</h1>
        <ul>
            <div class="orders__headings">
                <span>From</span>
                <span>To</span>
                <span>Price</span>
                <span>Amount</span>
                <span>Action</span>
            </div>
            {% for user_stak in user_stakans %}
            {% if user_stak.status.value == 'Active' %}
            <li id="{{user_stak.id}}">
                <span class="cash">{{user_stak.coinsFrom[0].name}}</span> <span class="cash">{{user_stak.coinsTo[0].name}}</span>
                <span>{{user_stak.price}}</span> <span>{{user_stak.count}}</span> <span class="action-button">Buy</span>
                <!--Async POST query to /user/stakan/buy with param {login, from, to, price, count}-->
                {% endif %}
            </li>
            {% endfor %}
        </ul>
    </section>
    <section class="orders">
        <h1><i style="margin-right: 10px;" class="fas fa-user-tag"></i> User orders</h1>
        <form>
            <!--Fill on server-->
            <select>
                <option value="sell">Sell</option>
                <option value="buy" selected>Buy</option>
            </select>
            From :
            <select>
                {% for coin in coins %}
                <option value="{{coin.id}}">{{coin.name}}</option>
                {% endfor %}
            </select>
            To :
            <select>
                {% for coin in coins %}
                <option value="{{coin.id}}">{{coin.name}}</option>
                {% endfor %}
            </select>
            <label>Price : <input type="text"></label>
            <label>Amount : <input type="text"></label>
            <button>Create cup</button>
            <!--Async POST query to /user/stakan/create with param {login, type, from, to, price, count}-->
        </form>
        <ul>
            <div class="orders__headings">
                <span>From</span>
                <span>To</span>
                <span>Price</span>
                <span>Amount</span>
                <span>Action</span>
            </div>
            <!--Fill on server-->
            {% for user_stak in user_stakans %}
            {% if user_stak.status.value == 'Active' %}
            <li>
                <span class="cash">{{ user_stak.coinsFrom[0].name }}</span> <span class="cash">{{ user_stak.coinsTo[0].name }}</span>
                <span>{{ user_stak.price }}</span> <span>{{ user_stak.count}}</span> <span
                    class="action-button">Delete</span>
            </li>
            {% endif %}
            {% endfor %}
        </ul>
    </section>
    <section class="orders">
        <h1><i style="margin-right: 10px;" class="fas fa-history"></i> User orders history</h1>
        <ul>
            <div class="orders__headings">
                <span>From</span>
                <span>To</span>
                <span>Price</span>
                <span>Amount</span>
                <span>Action</span>
                <span>Time</span>
            </div>
            <!--Fill on server-->
            {% for user_stak in user_stakans %}
            {% if user_stak.status.value == 'Inactive' %}
            <li>
                <span class="cash">{{ user_stak.coinsFrom[0].name }}</span> <span class="cash">{{ user_stak.coinsTo[0].name }}</span>
                <span>{{ user_stak.price }}</span> <span>{{ user_stak.count}}</span>
                <span>{{user_stak.type.value}}</span><span>{{user_stak.date}}</span>
            </li>
            {% endif %}
            {% endfor %}
        </ul>

    </section>
</main>
<script src="../static/js/main.js"></script>
</body>
</html>